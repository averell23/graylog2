#
# Generated by Chef
#

<VirtualHost *:<%= node.graylog2.apache.port -%>>

  ServerName <%= node.graylog2.apache.server_name -%>

  ProxyPreserveHost On
  ProxyRequests off
  ProxyPass / http://127.0.0.1:<%= node.graylog2.web_interface.port -%>/
  ProxyPassReverse / http://127.0.0.1:<%= node.graylog2.web_interface.port -%>/

  <%- if node.graylog2.apache.ssl.enabled %>
  SSLEngine on
  SSLCipherSuite <%= node.graylog2.apache.ssl.cipher_suite %>

  SSLCertificateFile <%= node.graylog2.apache.ssl.certificate_file %>
  SSLCertificateKeyFile <%= node.graylog2.apache.ssl.certificate_key_file %>
    <%- if node.graylog2.apache.ssl.ca_certificate_file %>
  SSLCACertificateFile <%= node.graylog2.apache.ssl.ca_certificate_file %>
    <%- end %>
  <%- end %>
  <Location />
    Order allow,deny
    Allow from all
  </Location>

  ErrorLog /var/log/httpd/error.log
  LogLevel warn
  CustomLog /var/log/httpd/access.log combined
</VirtualHost>

